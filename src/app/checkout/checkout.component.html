<div *ngFor="let cartItem of cartItems">
  <a routerLink="/details/{{cartItem.id}}">{{cartItem.name}}</a>
  <br>
  {{cartItem.price}}<br>
</div>
<p>Total {{totalCost}}</p>


<div>
  <h2>Billing Information</h2>
  <form [formGroup]="userForm">
    <mat-form-field>
      <label>First Name<span>(required)</span></label>
      <input matInput type="text" formControlName="firstName">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Last Name<span>(required)</span></label>
      <input matInput type="text" formControlName="lastName">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Email<span>(required)</span></label>
      <input matInput type="email" formControlName="email">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Confirm email<span>(required)</span></label>
      <input matInput type="email" formControlName="confirmEmail">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Payment method<span>(required)</span></label>
      <input matInput type="text" formControlName="paymentMethod">
    </mat-form-field>
    <br>

    <mat-form-field>

      <label>Street<span>(required)</span></label>
      <input matInput type="text" formControlName="street">
      <br>
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Street 2<span></span></label>
      <input matInput type="text" formControlName="street2">
      <br>
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>City<span>(required)</span></label>
      <input matInput type="text" formControlName="city">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>postcode<span>(required)</span></label>
      <input matInput type="number" formControlName="postcode">
    </mat-form-field>
    <br>

    <mat-form-field>
      <label>Phone number<span>(required)</span></label>
      <input matInput type="number" formControlName="phoneNumber">
    </mat-form-field>
    <br>

      <div formArrayName="phoneNumbers">
        <div *ngFor="let phone of phoneNumbers.controls; let i=index">
          <mat-form-field>
            <label>Other phone number<span>(option)</span></label>
            <input matInput type="number" [formControlName]="i">
          </mat-form-field>
          <button mat-button (click)="removePhoneNumber(i)">Remove</button>
          <br>
        </div>
        <button (click)="addPhoneNumber()">Add more phone numbers</button>
      </div>
    <br>

    <!-- <span *ngIf="userForm.errors?.matchingFields">Emailds do not match</span> -->
    <button type="submit"  (click)="billingOnSubmit()" [disabled]="!userForm.valid" routerLink="/confirm">Confirm</button>
  </form>


</div>

<p>
  Status {{userForm.status}}
</p>
